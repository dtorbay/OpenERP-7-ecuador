<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
			<!-- 
				FACTURA DE COMPRA
				En ambos casos se debe agregar la direccion y telefono
			-->
						
		<record model="ir.ui.view" id="account_invoice_supplier_view_ecua">
			<field name="name">account.invoice.supplier.view.ecuaform</field>
			<field name="model">account.invoice</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="account.invoice_supplier_form" />
			<field name="arch" type="xml">
				<xpath expr="/form/sheet/group/group/field[@name='partner_id']" position="attributes">
					<attribute name="on_change">onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)</attribute>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="after">
					<field name="internal_number" attrs="{'readonly': [('state','not in',('draft'))]}"/>
					<field name="invoice_address" attrs="{'readonly':[('state','!=','draft')]}"/> 
					<field name="invoice_phone" attrs="{'readonly':[('state','!=','draft')]}"/>
					<field name="printer_id" attrs="{'readonly':[('state','!=','draft')]}"/>
				</xpath>
			</field>			
		</record>
		
		<record model="ir.ui.view" id="account_invoice_customer_view_ecua">
			<field name="name">account.invoice.customer.view.ecuaform</field>
			<field name="model">account.invoice</field>
			<field name="type">form</field>
     	   <field name="inherit_id" ref="account.invoice_form" />
			<field name="arch" type="xml">
				<xpath expr="/form/sheet/group/group/field[@name='partner_id']" position="attributes">
					<attribute name="on_change">onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)</attribute>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="after">
				    <field name="internal_number" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
					<field name="invoice_address" attrs="{'readonly':[('state','!=','draft')]}"/> 
					<field name="invoice_phone" attrs="{'readonly':[('state','!=','draft')]}"/>
					<field name="printer_id" attrs="{'readonly':[('state','!=','draft')]}"/>
				</xpath>
			</field>			
		</record>
	</data>
</openerp>